<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Acordeon</title>
    <style>
        .respuesta {
            display: none;
            background-color: blue;
            width: 150px;
            height: 20px;
        }
        .pregunta {
            background-color:yellow;
            width: 150px;
            height: 20px;
        }

        .display {
            display: block;
        }
    </style>
</head>

<body>
    <header>
        <h1>Acordeon</h1>
    </header>

    <main>
        <p class="pregunta">¿Qué es esto?</p>
        <p class="respuesta">Es la respuesta 1</p>
        <p class="pregunta">Y esto, ¿qué es?</p>
        <p class="respuesta">Es la 2</p>
        <p class="pregunta">Esta cual es?</p>
        <p class="respuesta">Esta es la tercera</p>
        <p class="pregunta">Esta es la ultima?</p>
        <p class="respuesta">Sí</p>
    </main>
    <script>
        
        
        (function(){
        
        let p = document.querySelectorAll('p')
        let pR = document.querySelectorAll('.respuesta')
        let pP = document.querySelectorAll('.pregunta')
        let texto = []
        let textoP = []

        p.forEach(item => {
            item.addEventListener('click', toggle)

        })


        function calcPos(cad) {
            for (let i = 0; i < p.length; i++) {
                texto[i] = p[i].textContent.split(' ').join('')

            }
            let pos = texto.indexOf(cad)

            return pos
        }

        function toggle(ev) {


            let cad
            pP.forEach(item => {
                item = ev.target.textContent
                cad = item.split(' ').join('')


            })
            let posicion = calcPos(cad)

            pR.forEach(item => {
                if (item.className === 'respuesta display') {
                    item.classList.remove('display')
                   
                }

            })
            let per = p[posicion + 1].classList.add('display')

        }
    })()


    </script>

</body>

</html>